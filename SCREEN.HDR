SUBROUTINE SCREEN.HDR(PROGNAME,TITLE)
IF PROGNAME[1,1] # ' ' THEN PROG = ' ':PROGNAME ELSE PROG = PROGNAME
DTP = OCONV(DATE(),"D4") ; W = 77 ; NUM = DCOUNT(TITLE,CHAR(253))

* TOP LINE
L1 = LEN(PROG) ; L2 = LEN(TITLE<1,1>) ; L3 = 10
SS = (W-L2)/2 ; S1 = SS-L1 ; S2 = SS-L3
IF L1+S1+L2+S2+L3 = 79 THEN S2 = S2-1
DISPLAY @(-1):PROG:SPACE(S1):TITLE<1,1>:SPACE(S2):DTP

* SECOND LINE
*CALL GET.USER.ID(ID)
ID=FIELD(GETENV("PWD"),"/",3)
L1 = 10 ; L2 = LEN(TITLE<1,2>) ; L3 = 8
SS = (W-L2)/2 ; S1 = SS-L1 ; S2 = SS-L3
IF L1+S1+L2+S2+L3 > 79 THEN S2 = S2-1
DISPLAY " ":ID'L#10':SPACE(S1):TITLE<1,2>:SPACE(S2):OCONV(TIME(),"MTS")

* ANY OTHER LINES
FOR A = 3 TO NUM
   DISPLAY " ":SPACE(W/2 - LEN(TITLE<1,A>)/2):TITLE<1,A>
NEXT A
RETURN
